{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Legal Document Annotation Schema",
  "description": "Annotation schema for Legal-DSL LLM training data including clause classification, NER, and summarization tasks",
  "version": "1.0.0",
  "created": "2025-10-26",
  
  "tasks": {
    "clause_classification": {
      "description": "Classify legal clauses into predefined categories",
      "input_format": "text",
      "output_format": "single_label",
      
      "labels": [
        {
          "name": "indemnity",
          "description": "Clauses related to indemnification, holding harmless, or reimbursement for losses",
          "examples": [
            "The Contractor shall indemnify and hold harmless the Company against any claims...",
            "Party A agrees to defend, indemnify, and hold Party B harmless from all losses..."
          ],
          "keywords": ["indemnify", "hold harmless", "reimburse", "defend against"]
        },
        {
          "name": "termination",
          "description": "Clauses describing conditions and procedures for contract termination",
          "examples": [
            "Either party may terminate this Agreement upon 30 days' written notice...",
            "This Agreement may be terminated immediately for cause..."
          ],
          "keywords": ["terminate", "cancellation", "end agreement", "notice period"]
        },
        {
          "name": "arbitration",
          "description": "Clauses requiring arbitration for dispute resolution",
          "examples": [
            "Any dispute shall be resolved by binding arbitration in accordance with...",
            "The parties agree to submit to arbitration under the rules of..."
          ],
          "keywords": ["arbitration", "arbitrator", "binding arbitration", "AAA rules"]
        },
        {
          "name": "confidentiality",
          "description": "Clauses protecting confidential information and trade secrets",
          "examples": [
            "The Receiving Party shall maintain all Confidential Information in strict confidence...",
            "Neither party shall disclose proprietary information to third parties..."
          ],
          "keywords": ["confidential", "non-disclosure", "proprietary", "trade secret"]
        },
        {
          "name": "payment",
          "description": "Clauses specifying payment terms, amounts, and schedules",
          "examples": [
            "Client shall pay $10,000 within 30 days of invoice date...",
            "Fees are due monthly in advance..."
          ],
          "keywords": ["payment", "fee", "invoice", "compensation", "remuneration"]
        },
        {
          "name": "liability",
          "description": "Clauses defining liability and responsibility for damages",
          "examples": [
            "The Company shall not be liable for indirect or consequential damages...",
            "Vendor assumes full liability for any defects..."
          ],
          "keywords": ["liable", "liability", "responsible for", "damages"]
        },
        {
          "name": "force_majeure",
          "description": "Clauses excusing performance due to unforeseen circumstances",
          "examples": [
            "Neither party shall be liable for delays due to force majeure events...",
            "Performance is excused in the event of acts of God..."
          ],
          "keywords": ["force majeure", "act of god", "beyond reasonable control"]
        },
        {
          "name": "governing_law",
          "description": "Clauses specifying applicable law and jurisdiction",
          "examples": [
            "This Agreement shall be governed by the laws of Delaware...",
            "The parties submit to the exclusive jurisdiction of California courts..."
          ],
          "keywords": ["governing law", "jurisdiction", "governed by", "laws of"]
        },
        {
          "name": "warranty",
          "description": "Clauses containing warranties, representations, or guarantees",
          "examples": [
            "Vendor warrants that the Software will perform in accordance with specifications...",
            "Each party represents and warrants that it has full authority..."
          ],
          "keywords": ["warrant", "warranty", "represent and warrant", "guarantee"]
        },
        {
          "name": "dispute_resolution",
          "description": "Clauses describing dispute resolution procedures (mediation, negotiation)",
          "examples": [
            "Disputes shall first be resolved through good faith negotiation...",
            "The parties agree to mediate before pursuing litigation..."
          ],
          "keywords": ["dispute resolution", "mediation", "negotiation"]
        },
        {
          "name": "general",
          "description": "General provisions or clauses not fitting other categories",
          "examples": [
            "This Agreement may be executed in counterparts...",
            "All notices shall be in writing..."
          ],
          "keywords": []
        }
      ],
      
      "annotation_guidelines": {
        "multi_label": false,
        "minimum_text_length": 20,
        "context_required": true,
        "confidence_required": true,
        "inter_annotator_agreement_threshold": 0.75
      }
    },
    
    "named_entity_recognition": {
      "description": "Extract and classify named entities from legal documents",
      "input_format": "text",
      "output_format": "token_spans",
      "tagging_scheme": "BIO",
      
      "entity_types": [
        {
          "name": "PARTY",
          "description": "Contracting parties or signatories",
          "examples": [
            "Acme Corporation",
            "John Smith",
            "the Buyer",
            "Seller"
          ],
          "patterns": [
            "between [PARTY] and [PARTY]",
            "[PARTY] (\"the Company\")",
            "Party A"
          ]
        },
        {
          "name": "DATE",
          "description": "Dates and time periods",
          "examples": [
            "January 15, 2024",
            "30 days",
            "the Effective Date",
            "within 60 days of termination"
          ],
          "formats": ["MM/DD/YYYY", "Month DD, YYYY", "relative periods"]
        },
        {
          "name": "AMOUNT",
          "description": "Monetary amounts, percentages, and quantities",
          "examples": [
            "$1,000,000",
            "5% annual interest",
            "fifty thousand dollars",
            "EUR 100,000"
          ],
          "currencies": ["USD", "EUR", "GBP", "JPY"]
        },
        {
          "name": "JURISDICTION",
          "description": "Legal jurisdictions and governing bodies",
          "examples": [
            "State of Delaware",
            "California",
            "United States District Court",
            "European Union"
          ],
          "levels": ["country", "state", "county", "international"]
        },
        {
          "name": "ORGANIZATION",
          "description": "Companies, institutions, and organizations",
          "examples": [
            "Acme Inc.",
            "Delaware Limited Liability Company",
            "Securities and Exchange Commission"
          ],
          "suffixes": ["Inc.", "LLC", "Corp.", "Ltd.", "LLP"]
        },
        {
          "name": "PERSON",
          "description": "Individual persons named in the document",
          "examples": [
            "John Doe",
            "Jane Smith, CEO",
            "the Contractor"
          ]
        }
      ],
      
      "annotation_guidelines": {
        "nested_entities": false,
        "discontinuous_entities": false,
        "entity_linking": true,
        "confidence_required": true
      }
    },
    
    "summarization": {
      "description": "Generate concise abstractive summaries of legal documents",
      "input_format": "full_document",
      "output_format": "summary_text",
      
      "summary_types": [
        {
          "name": "executive_summary",
          "max_length": 500,
          "description": "High-level overview for non-technical readers",
          "includes": ["parties", "purpose", "key terms", "duration"]
        },
        {
          "name": "technical_summary",
          "max_length": 1000,
          "description": "Detailed summary for legal professionals",
          "includes": ["all clause types", "obligations", "risks", "deadlines"]
        },
        {
          "name": "key_points",
          "max_length": 250,
          "description": "Bullet-point list of critical terms",
          "format": "bulleted_list"
        }
      ],
      
      "quality_criteria": {
        "factual_consistency": "All facts must be accurate",
        "coverage": "Include all material terms",
        "conciseness": "No redundant information",
        "readability": "Clear and accessible language",
        "attribution": "Link to source clauses"
      },
      
      "annotation_guidelines": {
        "reference_required": true,
        "quality_score_required": true,
        "minimum_rouge_score": 0.3,
        "human_verification": true
      }
    }
  },
  
  "annotation_workflow": {
    "steps": [
      {
        "step": 1,
        "name": "data_collection",
        "description": "Collect legal documents (PDFs, DOCX) from public and private sources"
      },
      {
        "step": 2,
        "name": "document_processing",
        "description": "Parse documents, extract text, handle OCR for scanned docs"
      },
      {
        "step": 3,
        "name": "initial_annotation",
        "description": "Annotators label clauses, entities, and create summaries"
      },
      {
        "step": 4,
        "name": "quality_review",
        "description": "Senior annotator reviews for quality and consistency"
      },
      {
        "step": 5,
        "name": "inter_annotator_agreement",
        "description": "Calculate Cohen's Kappa, resolve disagreements"
      },
      {
        "step": 6,
        "name": "finalization",
        "description": "Export annotations in training format (JSONL)"
      }
    ]
  },
  
  "data_format": {
    "clause_classification_example": {
      "id": "clause_001",
      "text": "The Contractor shall indemnify and hold harmless the Company from any claims arising from the Contractor's negligence.",
      "label": "indemnity",
      "metadata": {
        "document_id": "contract_12345",
        "page_number": 5,
        "annotator_id": "annotator_01",
        "confidence": 0.95,
        "annotation_date": "2025-10-26"
      }
    },
    
    "ner_example": {
      "id": "ner_001",
      "text": "This Agreement is entered into on January 15, 2024 between Acme Corp and Beta LLC.",
      "entities": [
        {"text": "January 15, 2024", "start": 39, "end": 55, "label": "DATE"},
        {"text": "Acme Corp", "start": 64, "end": 73, "label": "ORGANIZATION"},
        {"text": "Beta LLC", "start": 78, "end": 86, "label": "ORGANIZATION"}
      ],
      "metadata": {
        "document_id": "contract_12345",
        "annotator_id": "annotator_02",
        "annotation_date": "2025-10-26"
      }
    },
    
    "summarization_example": {
      "id": "summary_001",
      "document": "Full contract text here...",
      "summary": "Service agreement between Acme Corp and Beta LLC for software development services. Term: 2 years. Payment: $50,000 monthly. Key clauses include confidentiality, IP ownership by Acme, and Delaware governing law.",
      "metadata": {
        "document_id": "contract_12345",
        "summary_type": "executive_summary",
        "rouge_1": 0.45,
        "rouge_l": 0.38,
        "annotator_id": "annotator_03",
        "quality_score": 4.5,
        "annotation_date": "2025-10-26"
      }
    }
  },
  
  "quality_metrics": {
    "inter_annotator_agreement": {
      "minimum_kappa": 0.75,
      "calculation_method": "Cohen's Kappa for binary, Fleiss' Kappa for multi-annotator"
    },
    "annotation_speed": {
      "clause_classification": "50-100 clauses/hour",
      "ner": "20-30 entities/hour",
      "summarization": "3-5 documents/hour"
    },
    "quality_assurance": {
      "random_sampling_rate": 0.1,
      "expert_review_required": true,
      "automated_validation": ["length_check", "format_check", "entity_overlap"]
    }
  },
  
  "tools_and_platforms": {
    "annotation_ui": "Label Studio, Prodigy, or custom interface",
    "storage": "PostgreSQL for annotations, S3/GCS for documents",
    "version_control": "Git + DVC for data versioning",
    "collaboration": "Annotation guidelines in Notion/Confluence"
  }
}
